<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>diffsynth.models.svd_unet &mdash; DiffSynth-Studio 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=01f34227"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            DiffSynth-Studio
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"></div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">DiffSynth-Studio</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">diffsynth.models.svd_unet</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for diffsynth.models.svd_unet</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">torch</span><span class="o">,</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">einops</span> <span class="kn">import</span> <span class="n">rearrange</span><span class="p">,</span> <span class="n">repeat</span>
<span class="kn">from</span> <span class="nn">.sd_unet</span> <span class="kn">import</span> <span class="n">Timesteps</span><span class="p">,</span> <span class="n">PushBlock</span><span class="p">,</span> <span class="n">PopBlock</span><span class="p">,</span> <span class="n">Attention</span><span class="p">,</span> <span class="n">GEGLU</span><span class="p">,</span> <span class="n">ResnetBlock</span><span class="p">,</span> <span class="n">AttentionBlock</span><span class="p">,</span> <span class="n">DownSampler</span><span class="p">,</span> <span class="n">UpSampler</span>


<div class="viewcode-block" id="TemporalResnetBlock">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.TemporalResnetBlock">[docs]</a>
<span class="k">class</span> <span class="nc">TemporalResnetBlock</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">in_channels</span><span class="p">,</span> <span class="n">out_channels</span><span class="p">,</span> <span class="n">temb_channels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">norm1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">GroupNorm</span><span class="p">(</span><span class="n">num_groups</span><span class="o">=</span><span class="n">groups</span><span class="p">,</span> <span class="n">num_channels</span><span class="o">=</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span> <span class="n">affine</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv3d</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">out_channels</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">stride</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">temb_channels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time_emb_proj</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="n">temb_channels</span><span class="p">,</span> <span class="n">out_channels</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">norm2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">GroupNorm</span><span class="p">(</span><span class="n">num_groups</span><span class="o">=</span><span class="n">groups</span><span class="p">,</span> <span class="n">num_channels</span><span class="o">=</span><span class="n">out_channels</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span> <span class="n">affine</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv3d</span><span class="p">(</span><span class="n">out_channels</span><span class="p">,</span> <span class="n">out_channels</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">stride</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nonlinearity</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">SiLU</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv_shortcut</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">in_channels</span> <span class="o">!=</span> <span class="n">out_channels</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">conv_shortcut</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv3d</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">out_channels</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<div class="viewcode-block" id="TemporalResnetBlock.forward">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.TemporalResnetBlock.forward">[docs]</a>
    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">rearrange</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">,</span> <span class="s2">&quot;f c h w -&gt; 1 c f h w&quot;</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">norm1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nonlinearity</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">time_emb</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">emb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nonlinearity</span><span class="p">(</span><span class="n">time_emb</span><span class="p">)</span>
            <span class="n">emb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_emb_proj</span><span class="p">(</span><span class="n">emb</span><span class="p">)</span>
            <span class="n">emb</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">(</span><span class="n">emb</span><span class="p">,</span> <span class="s2">&quot;b c -&gt; b c f 1 1&quot;</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="n">hidden_states</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">emb</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">norm2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nonlinearity</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_shortcut</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_shortcut</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">rearrange</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;c f h w -&gt; f c h w&quot;</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">hidden_states</span> <span class="o">+</span> <span class="n">x</span>
        <span class="k">return</span> <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span></div>
</div>



<div class="viewcode-block" id="get_timestep_embedding">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.get_timestep_embedding">[docs]</a>
<span class="k">def</span> <span class="nf">get_timestep_embedding</span><span class="p">(</span>
    <span class="n">timesteps</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">,</span>
    <span class="n">embedding_dim</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">flip_sin_to_cos</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">downscale_freq_shift</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">max_period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This matches the implementation in Denoising Diffusion Probabilistic Models: Create sinusoidal timestep embeddings.</span>

<span class="sd">    :param timesteps: a 1-D Tensor of N indices, one per batch element.</span>
<span class="sd">                      These may be fractional.</span>
<span class="sd">    :param embedding_dim: the dimension of the output. :param max_period: controls the minimum frequency of the</span>
<span class="sd">    embeddings. :return: an [N x dim] Tensor of positional embeddings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">timesteps</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Timesteps should be a 1d-array&quot;</span>

    <span class="n">half_dim</span> <span class="o">=</span> <span class="n">embedding_dim</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="n">exponent</span> <span class="o">=</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">max_period</span><span class="p">)</span> <span class="o">*</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span>
        <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">half_dim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">timesteps</span><span class="o">.</span><span class="n">device</span>
    <span class="p">)</span>
    <span class="n">exponent</span> <span class="o">=</span> <span class="n">exponent</span> <span class="o">/</span> <span class="p">(</span><span class="n">half_dim</span> <span class="o">-</span> <span class="n">downscale_freq_shift</span><span class="p">)</span>

    <span class="n">emb</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">exponent</span><span class="p">)</span>
    <span class="n">emb</span> <span class="o">=</span> <span class="n">timesteps</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]</span><span class="o">.</span><span class="n">float</span><span class="p">()</span> <span class="o">*</span> <span class="n">emb</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:]</span>

    <span class="c1"># scale embeddings</span>
    <span class="n">emb</span> <span class="o">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="n">emb</span>

    <span class="c1"># concat sine and cosine embeddings</span>
    <span class="n">emb</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">torch</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">emb</span><span class="p">),</span> <span class="n">torch</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">emb</span><span class="p">)],</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># flip sine and cosine embeddings</span>
    <span class="k">if</span> <span class="n">flip_sin_to_cos</span><span class="p">:</span>
        <span class="n">emb</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">emb</span><span class="p">[:,</span> <span class="n">half_dim</span><span class="p">:],</span> <span class="n">emb</span><span class="p">[:,</span> <span class="p">:</span><span class="n">half_dim</span><span class="p">]],</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># zero pad</span>
    <span class="k">if</span> <span class="n">embedding_dim</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">emb</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">functional</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="n">emb</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">emb</span></div>



<div class="viewcode-block" id="TemporalTimesteps">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.TemporalTimesteps">[docs]</a>
<span class="k">class</span> <span class="nc">TemporalTimesteps</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_channels</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">flip_sin_to_cos</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">downscale_freq_shift</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_channels</span> <span class="o">=</span> <span class="n">num_channels</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flip_sin_to_cos</span> <span class="o">=</span> <span class="n">flip_sin_to_cos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">downscale_freq_shift</span> <span class="o">=</span> <span class="n">downscale_freq_shift</span>

<div class="viewcode-block" id="TemporalTimesteps.forward">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.TemporalTimesteps.forward">[docs]</a>
    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timesteps</span><span class="p">):</span>
        <span class="n">t_emb</span> <span class="o">=</span> <span class="n">get_timestep_embedding</span><span class="p">(</span>
            <span class="n">timesteps</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">num_channels</span><span class="p">,</span>
            <span class="n">flip_sin_to_cos</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flip_sin_to_cos</span><span class="p">,</span>
            <span class="n">downscale_freq_shift</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">downscale_freq_shift</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">t_emb</span></div>
</div>

    

<div class="viewcode-block" id="TrainableTemporalTimesteps">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.TrainableTemporalTimesteps">[docs]</a>
<span class="k">class</span> <span class="nc">TrainableTemporalTimesteps</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_channels</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">flip_sin_to_cos</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">downscale_freq_shift</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">num_frames</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="n">timesteps</span> <span class="o">=</span> <span class="n">PositionalID</span><span class="p">()(</span><span class="n">num_frames</span><span class="p">)</span>
        <span class="n">embeddings</span> <span class="o">=</span> <span class="n">get_timestep_embedding</span><span class="p">(</span><span class="n">timesteps</span><span class="p">,</span> <span class="n">num_channels</span><span class="p">,</span> <span class="n">flip_sin_to_cos</span><span class="p">,</span> <span class="n">downscale_freq_shift</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">embeddings</span><span class="p">)</span>

<div class="viewcode-block" id="TrainableTemporalTimesteps.forward">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.TrainableTemporalTimesteps.forward">[docs]</a>
    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timesteps</span><span class="p">):</span>
        <span class="n">t_emb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="p">[</span><span class="n">timesteps</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">t_emb</span></div>
</div>



<div class="viewcode-block" id="PositionalID">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.PositionalID">[docs]</a>
<span class="k">class</span> <span class="nc">PositionalID</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_id</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">repeat_length</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_id</span> <span class="o">=</span> <span class="n">max_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeat_length</span> <span class="o">=</span> <span class="n">repeat_length</span>

<div class="viewcode-block" id="PositionalID.frame_id_to_position_id">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.PositionalID.frame_id_to_position_id">[docs]</a>
    <span class="k">def</span> <span class="nf">frame_id_to_position_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame_id</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">frame_id</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_id</span><span class="p">:</span>
            <span class="n">position_id</span> <span class="o">=</span> <span class="n">frame_id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">position_id</span> <span class="o">=</span> <span class="p">(</span><span class="n">frame_id</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_id</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">repeat_length</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">position_id</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat_length</span><span class="p">:</span>
                <span class="n">position_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_id</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">position_id</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">position_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_id</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat_length</span> <span class="o">+</span> <span class="n">position_id</span>
        <span class="k">return</span> <span class="n">position_id</span></div>


<div class="viewcode-block" id="PositionalID.forward">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.PositionalID.forward">[docs]</a>
    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_frames</span><span class="p">,</span> <span class="n">pivot_frame_id</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">position_ids</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_id_to_position_id</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="n">pivot_frame_id</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_frames</span><span class="p">)]</span>
        <span class="n">position_ids</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">IntTensor</span><span class="p">(</span><span class="n">position_ids</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">position_ids</span></div>
</div>



<div class="viewcode-block" id="TemporalAttentionBlock">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.TemporalAttentionBlock">[docs]</a>
<span class="k">class</span> <span class="nc">TemporalAttentionBlock</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_attention_heads</span><span class="p">,</span> <span class="n">attention_head_dim</span><span class="p">,</span> <span class="n">in_channels</span><span class="p">,</span> <span class="n">cross_attention_dim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">positional_embedding_proj</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Sequential</span><span class="p">(</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">in_channels</span> <span class="o">*</span> <span class="mi">4</span><span class="p">),</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">SiLU</span><span class="p">(),</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="n">in_channels</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="n">in_channels</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">add_positional_conv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">positional_embedding</span> <span class="o">=</span> <span class="n">TrainableTemporalTimesteps</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">positional_conv</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv3d</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">in_channels</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s2">&quot;reflect&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">positional_embedding</span> <span class="o">=</span> <span class="n">TemporalTimesteps</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">positional_conv</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">norm_in</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">LayerNorm</span><span class="p">(</span><span class="n">in_channels</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">act_fn_in</span> <span class="o">=</span> <span class="n">GEGLU</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">in_channels</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ff_in</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="n">in_channels</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="n">in_channels</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">norm1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">LayerNorm</span><span class="p">(</span><span class="n">in_channels</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attn1</span> <span class="o">=</span> <span class="n">Attention</span><span class="p">(</span>
            <span class="n">q_dim</span><span class="o">=</span><span class="n">in_channels</span><span class="p">,</span>
            <span class="n">num_heads</span><span class="o">=</span><span class="n">num_attention_heads</span><span class="p">,</span>
            <span class="n">head_dim</span><span class="o">=</span><span class="n">attention_head_dim</span><span class="p">,</span>
            <span class="n">bias_out</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">norm2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">LayerNorm</span><span class="p">(</span><span class="n">in_channels</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attn2</span> <span class="o">=</span> <span class="n">Attention</span><span class="p">(</span>
            <span class="n">q_dim</span><span class="o">=</span><span class="n">in_channels</span><span class="p">,</span>
            <span class="n">kv_dim</span><span class="o">=</span><span class="n">cross_attention_dim</span><span class="p">,</span>
            <span class="n">num_heads</span><span class="o">=</span><span class="n">num_attention_heads</span><span class="p">,</span>
            <span class="n">head_dim</span><span class="o">=</span><span class="n">attention_head_dim</span><span class="p">,</span>
            <span class="n">bias_out</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">norm_out</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">LayerNorm</span><span class="p">(</span><span class="n">in_channels</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">act_fn_out</span> <span class="o">=</span> <span class="n">GEGLU</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">in_channels</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ff_out</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="n">in_channels</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="n">in_channels</span><span class="p">)</span>

<div class="viewcode-block" id="TemporalAttentionBlock.forward">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.TemporalAttentionBlock.forward">[docs]</a>
    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="n">batch</span><span class="p">,</span> <span class="n">inner_dim</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">hidden_states</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">pos_emb</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>
        <span class="n">pos_emb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positional_embedding</span><span class="p">(</span><span class="n">pos_emb</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">hidden_states</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">hidden_states</span><span class="o">.</span><span class="n">device</span><span class="p">)</span>
        <span class="n">pos_emb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positional_embedding_proj</span><span class="p">(</span><span class="n">pos_emb</span><span class="p">)</span>
        
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">rearrange</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">,</span> <span class="s2">&quot;T C H W -&gt; 1 C T H W&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">rearrange</span><span class="p">(</span><span class="n">pos_emb</span><span class="p">,</span> <span class="s2">&quot;T C -&gt; 1 C T 1 1&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">positional_conv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positional_conv</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">rearrange</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;C T H W -&gt; (H W) T C&quot;</span><span class="p">)</span>

        <span class="n">residual</span> <span class="o">=</span> <span class="n">hidden_states</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">norm_in</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_fn_in</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ff_in</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">hidden_states</span> <span class="o">+</span> <span class="n">residual</span>

        <span class="n">norm_hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">norm1</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">attn_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attn1</span><span class="p">(</span><span class="n">norm_hidden_states</span><span class="p">,</span> <span class="n">encoder_hidden_states</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">attn_output</span> <span class="o">+</span> <span class="n">hidden_states</span>

        <span class="n">norm_hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">norm2</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">attn_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attn2</span><span class="p">(</span><span class="n">norm_hidden_states</span><span class="p">,</span> <span class="n">encoder_hidden_states</span><span class="o">=</span><span class="n">text_emb</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">height</span> <span class="o">*</span> <span class="n">width</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">attn_output</span> <span class="o">+</span> <span class="n">hidden_states</span>

        <span class="n">residual</span> <span class="o">=</span> <span class="n">hidden_states</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">norm_out</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_fn_out</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ff_out</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">hidden_states</span> <span class="o">+</span> <span class="n">residual</span>

        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">hidden_states</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">inner_dim</span><span class="p">)</span><span class="o">.</span><span class="n">permute</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span></div>
</div>

    

<div class="viewcode-block" id="PopMixBlock">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.PopMixBlock">[docs]</a>
<span class="k">class</span> <span class="nc">PopMixBlock</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">in_channels</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mix_factor</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mf">0.5</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">need_proj</span> <span class="o">=</span> <span class="n">in_channels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">need_proj</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">proj</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">in_channels</span><span class="p">)</span>
    
<div class="viewcode-block" id="PopMixBlock.forward">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.PopMixBlock.forward">[docs]</a>
    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">res_hidden_states</span> <span class="o">=</span> <span class="n">res_stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">sigmoid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mix_factor</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">*</span> <span class="n">res_hidden_states</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">*</span> <span class="n">hidden_states</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">need_proj</span><span class="p">:</span>
            <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">hidden_states</span><span class="o">.</span><span class="n">permute</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">proj</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
            <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">hidden_states</span><span class="o">.</span><span class="n">permute</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">res_hidden_states</span> <span class="o">=</span> <span class="n">res_stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">hidden_states</span> <span class="o">=</span> <span class="n">hidden_states</span> <span class="o">+</span> <span class="n">res_hidden_states</span>
        <span class="k">return</span> <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span></div>
</div>



<div class="viewcode-block" id="SVDUNet">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNet">[docs]</a>
<span class="k">class</span> <span class="nc">SVDUNet</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_proj</span> <span class="o">=</span> <span class="n">Timesteps</span><span class="p">(</span><span class="mi">320</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_embedding</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Sequential</span><span class="p">(</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">),</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">SiLU</span><span class="p">(),</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_time_proj</span> <span class="o">=</span> <span class="n">Timesteps</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_time_embedding</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Sequential</span><span class="p">(</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="mi">768</span><span class="p">,</span> <span class="mi">1280</span><span class="p">),</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">SiLU</span><span class="p">(),</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv_in</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv2d</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blocks</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">ModuleList</span><span class="p">([</span>
            <span class="c1"># CrossAttnDownBlockSpatioTemporal</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>                      <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>                      <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">DownSampler</span><span class="p">(</span><span class="mi">320</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="c1"># CrossAttnDownBlockSpatioTemporal</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>                      <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>  <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>                      <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>  <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">DownSampler</span><span class="p">(</span><span class="mi">640</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="c1"># CrossAttnDownBlockSpatioTemporal</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>                     <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>                    <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">DownSampler</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="c1"># DownBlockSpatioTemporal</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span>                    <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span>                    <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="c1"># UNetMidBlockSpatioTemporal</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span>                    <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span>
            <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span>                    <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>
            <span class="c1"># UpBlockSpatioTemporal</span>
            <span class="n">PopBlock</span><span class="p">(),</span> <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">2560</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>        <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>
            <span class="n">PopBlock</span><span class="p">(),</span> <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">2560</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>        <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>
            <span class="n">PopBlock</span><span class="p">(),</span> <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">2560</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>        <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>
            <span class="n">UpSampler</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span>
            <span class="c1"># CrossAttnUpBlockSpatioTemporal</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">2560</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">2560</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span> <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span>
            <span class="n">UpSampler</span><span class="p">(</span><span class="mi">1280</span><span class="p">),</span>
            <span class="c1"># CrossAttnUpBlockSpatioTemporal</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>  <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">),</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>  <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">),</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">960</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>  <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>  <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">),</span>
            <span class="n">UpSampler</span><span class="p">(</span><span class="mi">640</span><span class="p">),</span>
            <span class="c1"># CrossAttnUpBlockSpatioTemporal</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">960</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">),</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">),</span>
            <span class="n">PopBlock</span><span class="p">(),</span>        <span class="n">ResnetBlock</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalResnetBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(),</span>  <span class="n">PushBlock</span><span class="p">(),</span>
            <span class="n">AttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">need_proj_out</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>   <span class="n">PushBlock</span><span class="p">(),</span> <span class="n">TemporalAttentionBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="p">),</span>   <span class="n">PopMixBlock</span><span class="p">(</span><span class="mi">320</span><span class="p">),</span>
        <span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">conv_norm_out</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">GroupNorm</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-05</span><span class="p">,</span> <span class="n">affine</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv_act</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">SiLU</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv_out</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv2d</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">stride</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        

<div class="viewcode-block" id="SVDUNet.build_mask">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNet.build_mask">[docs]</a>
    <span class="k">def</span> <span class="nf">build_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">is_bound</span><span class="p">):</span>
        <span class="n">T</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">W</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">T</span><span class="p">),</span> <span class="s2">&quot;T -&gt; T H W&quot;</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="n">H</span><span class="o">=</span><span class="n">H</span><span class="p">,</span> <span class="n">W</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">H</span><span class="p">),</span> <span class="s2">&quot;H -&gt; T H W&quot;</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="n">H</span><span class="o">=</span><span class="n">H</span><span class="p">,</span> <span class="n">W</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">W</span><span class="p">),</span> <span class="s2">&quot;W -&gt; T H W&quot;</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="n">H</span><span class="o">=</span><span class="n">H</span><span class="p">,</span> <span class="n">W</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
        <span class="n">border_width</span> <span class="o">=</span> <span class="p">(</span><span class="n">T</span> <span class="o">+</span> <span class="n">H</span> <span class="o">+</span> <span class="n">W</span><span class="p">)</span> <span class="o">//</span> <span class="mi">6</span>
        <span class="n">pad</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">*</span> <span class="n">border_width</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span>
            <span class="n">pad</span> <span class="k">if</span> <span class="n">is_bound</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">pad</span> <span class="k">if</span> <span class="n">is_bound</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="n">T</span> <span class="o">-</span> <span class="n">t</span><span class="p">,</span>
            <span class="n">pad</span> <span class="k">if</span> <span class="n">is_bound</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">else</span> <span class="n">h</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">pad</span> <span class="k">if</span> <span class="n">is_bound</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">else</span> <span class="n">H</span> <span class="o">-</span> <span class="n">h</span><span class="p">,</span>
            <span class="n">pad</span> <span class="k">if</span> <span class="n">is_bound</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="k">else</span> <span class="n">w</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">pad</span> <span class="k">if</span> <span class="n">is_bound</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="k">else</span> <span class="n">W</span> <span class="o">-</span> <span class="n">w</span>
        <span class="p">])</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">border_width</span><span class="p">)</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">mask</span> <span class="o">/</span> <span class="n">border_width</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">device</span><span class="p">)</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="n">rearrange</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="s2">&quot;T H W -&gt; T 1 H W&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mask</span></div>

    

<div class="viewcode-block" id="SVDUNet.tiled_forward">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNet.tiled_forward">[docs]</a>
    <span class="k">def</span> <span class="nf">tiled_forward</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">timestep</span><span class="p">,</span> <span class="n">encoder_hidden_states</span><span class="p">,</span> <span class="n">add_time_id</span><span class="p">,</span>
        <span class="n">batch_time</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">batch_height</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">batch_width</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span>
        <span class="n">stride_time</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">stride_height</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">stride_width</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span>
        <span class="n">progress_bar</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span>
    <span class="p">):</span>
        <span class="n">data_device</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">device</span>
        <span class="n">computation_device</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_in</span><span class="o">.</span><span class="n">weight</span><span class="o">.</span><span class="n">device</span>
        <span class="n">torch_dtype</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">dtype</span>
        <span class="n">T</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">W</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">shape</span>

        <span class="n">weight</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">T</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">W</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">torch_dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">data_device</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">T</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">W</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">torch_dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">data_device</span><span class="p">)</span>

        <span class="c1"># Split tasks</span>
        <span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">stride_time</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">stride_height</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">stride_width</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">t</span><span class="o">-</span><span class="n">stride_time</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">t</span><span class="o">-</span><span class="n">stride_time</span><span class="o">+</span><span class="n">batch_time</span> <span class="o">&gt;=</span> <span class="n">T</span><span class="p">)</span>\
                        <span class="ow">or</span> <span class="p">(</span><span class="n">h</span><span class="o">-</span><span class="n">stride_height</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">h</span><span class="o">-</span><span class="n">stride_height</span><span class="o">+</span><span class="n">batch_height</span> <span class="o">&gt;=</span> <span class="n">H</span><span class="p">)</span>\
                        <span class="ow">or</span> <span class="p">(</span><span class="n">w</span><span class="o">-</span><span class="n">stride_width</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">w</span><span class="o">-</span><span class="n">stride_width</span><span class="o">+</span><span class="n">batch_width</span> <span class="o">&gt;=</span> <span class="n">W</span><span class="p">):</span>
                        <span class="k">continue</span>
                    <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">t</span><span class="p">,</span> <span class="n">t</span><span class="o">+</span><span class="n">batch_time</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">h</span><span class="o">+</span><span class="n">batch_height</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="o">+</span><span class="n">batch_width</span><span class="p">))</span>
        
        <span class="c1"># Run</span>
        <span class="k">for</span> <span class="n">tl</span><span class="p">,</span> <span class="n">tr</span><span class="p">,</span> <span class="n">hl</span><span class="p">,</span> <span class="n">hr</span><span class="p">,</span> <span class="n">wl</span><span class="p">,</span> <span class="n">wr</span> <span class="ow">in</span> <span class="n">progress_bar</span><span class="p">(</span><span class="n">tasks</span><span class="p">):</span>
            <span class="n">sample_batch</span> <span class="o">=</span> <span class="n">sample</span><span class="p">[</span><span class="n">tl</span><span class="p">:</span><span class="n">tr</span><span class="p">,</span> <span class="p">:,</span> <span class="n">hl</span><span class="p">:</span><span class="n">hr</span><span class="p">,</span> <span class="n">wl</span><span class="p">:</span><span class="n">wr</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">computation_device</span><span class="p">)</span>
            <span class="n">sample_batch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">sample_batch</span><span class="p">,</span> <span class="n">timestep</span><span class="p">,</span> <span class="n">encoder_hidden_states</span><span class="p">,</span> <span class="n">add_time_id</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">data_device</span><span class="p">)</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_mask</span><span class="p">(</span><span class="n">sample_batch</span><span class="p">,</span> <span class="n">is_bound</span><span class="o">=</span><span class="p">(</span><span class="n">tl</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="n">tr</span><span class="o">&gt;=</span><span class="n">T</span><span class="p">,</span> <span class="n">hl</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="n">hr</span><span class="o">&gt;=</span><span class="n">H</span><span class="p">,</span> <span class="n">wl</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="n">wr</span><span class="o">&gt;=</span><span class="n">W</span><span class="p">))</span>
            <span class="n">values</span><span class="p">[</span><span class="n">tl</span><span class="p">:</span><span class="n">tr</span><span class="p">,</span> <span class="p">:,</span> <span class="n">hl</span><span class="p">:</span><span class="n">hr</span><span class="p">,</span> <span class="n">wl</span><span class="p">:</span><span class="n">wr</span><span class="p">]</span> <span class="o">+=</span> <span class="n">sample_batch</span> <span class="o">*</span> <span class="n">mask</span>
            <span class="n">weight</span><span class="p">[</span><span class="n">tl</span><span class="p">:</span><span class="n">tr</span><span class="p">,</span> <span class="p">:,</span> <span class="n">hl</span><span class="p">:</span><span class="n">hr</span><span class="p">,</span> <span class="n">wl</span><span class="p">:</span><span class="n">wr</span><span class="p">]</span> <span class="o">+=</span> <span class="n">mask</span>
        <span class="n">values</span> <span class="o">/=</span> <span class="n">weight</span>
        <span class="k">return</span> <span class="n">values</span></div>

    

<div class="viewcode-block" id="SVDUNet.forward">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNet.forward">[docs]</a>
    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">timestep</span><span class="p">,</span> <span class="n">encoder_hidden_states</span><span class="p">,</span> <span class="n">add_time_id</span><span class="p">,</span> <span class="n">use_gradient_checkpointing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># 1. time</span>
        <span class="n">timestep</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">((</span><span class="n">timestep</span><span class="p">,))</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">device</span><span class="p">)</span>
        <span class="n">t_emb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_proj</span><span class="p">(</span><span class="n">timestep</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
        <span class="n">t_emb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_embedding</span><span class="p">(</span><span class="n">t_emb</span><span class="p">)</span>

        <span class="n">add_embeds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_time_proj</span><span class="p">(</span><span class="n">add_time_id</span><span class="o">.</span><span class="n">flatten</span><span class="p">())</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
        <span class="n">add_embeds</span> <span class="o">=</span> <span class="n">add_embeds</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">768</span><span class="p">))</span>
        <span class="n">add_embeds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_time_embedding</span><span class="p">(</span><span class="n">add_embeds</span><span class="p">)</span>

        <span class="n">time_emb</span> <span class="o">=</span> <span class="n">t_emb</span> <span class="o">+</span> <span class="n">add_embeds</span>

        <span class="c1"># 2. pre-process</span>
        <span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">sample</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_in</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">text_emb</span> <span class="o">=</span> <span class="n">encoder_hidden_states</span>
        <span class="n">res_stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">hidden_states</span><span class="p">]</span>

        <span class="c1"># 3. blocks</span>
        <span class="k">def</span> <span class="nf">create_custom_forward</span><span class="p">(</span><span class="n">module</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">custom_forward</span><span class="p">(</span><span class="o">*</span><span class="n">inputs</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">module</span><span class="p">(</span><span class="o">*</span><span class="n">inputs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">custom_forward</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">block</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">training</span> <span class="ow">and</span> <span class="n">use_gradient_checkpointing</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">PushBlock</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">PopBlock</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">PopMixBlock</span><span class="p">)):</span>
                <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">checkpoint</span><span class="o">.</span><span class="n">checkpoint</span><span class="p">(</span>
                    <span class="n">create_custom_forward</span><span class="p">(</span><span class="n">block</span><span class="p">),</span>
                    <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span><span class="p">,</span>
                    <span class="n">use_reentrant</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span> <span class="o">=</span> <span class="n">block</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">,</span> <span class="n">time_emb</span><span class="p">,</span> <span class="n">text_emb</span><span class="p">,</span> <span class="n">res_stack</span><span class="p">)</span>

        <span class="c1"># 4. output</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_norm_out</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_act</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>
        <span class="n">hidden_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv_out</span><span class="p">(</span><span class="n">hidden_states</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">hidden_states</span></div>

    
<div class="viewcode-block" id="SVDUNet.state_dict_converter">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNet.state_dict_converter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">state_dict_converter</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">SVDUNetStateDictConverter</span><span class="p">()</span></div>
</div>

    


<div class="viewcode-block" id="SVDUNetStateDictConverter">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNetStateDictConverter">[docs]</a>
<span class="k">class</span> <span class="nc">SVDUNetStateDictConverter</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

<div class="viewcode-block" id="SVDUNetStateDictConverter.get_block_name">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNetStateDictConverter.get_block_name">[docs]</a>
    <span class="k">def</span> <span class="nf">get_block_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;down_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;mid_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">names</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;norm&quot;</span><span class="p">,</span> <span class="s2">&quot;proj_in&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;transformer_blocks&quot;</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">names</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;time_pos_embed&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;temporal_transformer_blocks&quot;</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">names</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;proj_out&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;time_mixer&quot;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>


<div class="viewcode-block" id="SVDUNetStateDictConverter.from_diffusers">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNetStateDictConverter.from_diffusers">[docs]</a>
    <span class="k">def</span> <span class="nf">from_diffusers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_dict</span><span class="p">):</span>
        <span class="n">rename_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;time_embedding.linear_1&quot;</span><span class="p">:</span> <span class="s2">&quot;time_embedding.0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;time_embedding.linear_2&quot;</span><span class="p">:</span> <span class="s2">&quot;time_embedding.2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;add_embedding.linear_1&quot;</span><span class="p">:</span> <span class="s2">&quot;add_time_embedding.0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;add_embedding.linear_2&quot;</span><span class="p">:</span> <span class="s2">&quot;add_time_embedding.2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;conv_in&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_in&quot;</span><span class="p">,</span>
            <span class="s2">&quot;conv_norm_out&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_norm_out&quot;</span><span class="p">,</span>
            <span class="s2">&quot;conv_out&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_out&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">blocks_rename_dict</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;down_blocks.0.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.0.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.0.resnets.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.0.attentions.0.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.0.attentions.0.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.0.attentions.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.0.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.0.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.0.resnets.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.0.attentions.1.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.0.attentions.1.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.0.attentions.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.0.downsamplers.0.conv&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.1.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.1.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.1.resnets.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.1.attentions.0.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.1.attentions.0.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.1.attentions.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.1.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.1.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.1.resnets.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.1.attentions.1.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.1.attentions.1.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.1.attentions.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.1.downsamplers.0.conv&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.2.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.2.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.2.resnets.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.2.attentions.0.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.2.attentions.0.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.2.attentions.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.2.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.2.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.2.resnets.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.2.attentions.1.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.2.attentions.1.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.2.attentions.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.2.downsamplers.0.conv&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.3.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.3.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.3.resnets.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;down_blocks.3.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;down_blocks.3.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;down_blocks.3.resnets.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;mid_block.mid_block.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;mid_block.mid_block.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;mid_block.mid_block.resnets.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;mid_block.mid_block.attentions.0.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;mid_block.mid_block.attentions.0.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;mid_block.mid_block.attentions.0.time_mixer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;mid_block.mid_block.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;mid_block.mid_block.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;mid_block.mid_block.resnets.1.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.0.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.1.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.2.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.2.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.0.resnets.2.time_mixer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.0.upsamplers.0.conv&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.1.attentions.0.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.attentions.0.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.attentions.0.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.1.attentions.1.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.attentions.1.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.attentions.1.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.2.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.2.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.resnets.2.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.1.attentions.2.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.attentions.2.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.1.attentions.2.time_mixer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.1.upsamplers.0.conv&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.2.attentions.0.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.attentions.0.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.attentions.0.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.2.attentions.1.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.attentions.1.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.attentions.1.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.2.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.2.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.resnets.2.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.2.attentions.2.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.attentions.2.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.2.attentions.2.time_mixer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.2.upsamplers.0.conv&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.0.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.0.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.0.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.3.attentions.0.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.attentions.0.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.attentions.0.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.1.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.1.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.1.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.3.attentions.1.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.attentions.1.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.attentions.1.time_mixer&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.2.spatial_res_block&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.2.temporal_res_block&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.resnets.2.time_mixer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;up_blocks.3.attentions.2.transformer_blocks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.attentions.2.temporal_transformer_blocks&quot;</span><span class="p">,</span> <span class="s2">&quot;up_blocks.3.attentions.2.time_mixer&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">blocks_rename_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span><span class="p">,</span><span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">blocks_rename_dict</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
        <span class="n">state_dict_</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">state_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">names</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;mid_block&quot;</span><span class="p">:</span>
                <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mid_block&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">names</span>
            <span class="k">if</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">,</span> <span class="s2">&quot;bias&quot;</span><span class="p">]:</span>
                <span class="n">name_prefix</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">name_prefix</span> <span class="ow">in</span> <span class="n">rename_dict</span><span class="p">:</span>
                    <span class="n">state_dict_</span><span class="p">[</span><span class="n">rename_dict</span><span class="p">[</span><span class="n">name_prefix</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">param</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">block_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_block_name</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
                    <span class="k">if</span> <span class="s2">&quot;resnets&quot;</span> <span class="ow">in</span> <span class="n">block_name</span> <span class="ow">and</span> <span class="n">block_name</span> <span class="ow">in</span> <span class="n">blocks_rename_dict</span><span class="p">:</span>
                        <span class="n">rename</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">blocks_rename_dict</span><span class="p">[</span><span class="n">block_name</span><span class="p">])]</span> <span class="o">+</span> <span class="n">names</span><span class="p">[</span><span class="mi">5</span><span class="p">:])</span>
                        <span class="n">state_dict_</span><span class="p">[</span><span class="n">rename</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span>
                    <span class="k">elif</span> <span class="p">(</span><span class="s2">&quot;downsamplers&quot;</span> <span class="ow">in</span> <span class="n">block_name</span> <span class="ow">or</span> <span class="s2">&quot;upsamplers&quot;</span> <span class="ow">in</span> <span class="n">block_name</span><span class="p">)</span> <span class="ow">and</span> <span class="n">block_name</span> <span class="ow">in</span> <span class="n">blocks_rename_dict</span><span class="p">:</span>
                        <span class="n">rename</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">blocks_rename_dict</span><span class="p">[</span><span class="n">block_name</span><span class="p">])]</span> <span class="o">+</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span>
                        <span class="n">state_dict_</span><span class="p">[</span><span class="n">rename</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span>
                    <span class="k">elif</span> <span class="s2">&quot;attentions&quot;</span> <span class="ow">in</span> <span class="n">block_name</span> <span class="ow">and</span> <span class="n">block_name</span> <span class="ow">in</span> <span class="n">blocks_rename_dict</span><span class="p">:</span>
                        <span class="n">attention_id</span> <span class="o">=</span> <span class="n">names</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
                        <span class="k">if</span> <span class="s2">&quot;transformer_blocks&quot;</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
                            <span class="n">suffix_dict</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s2">&quot;attn1.to_out.0&quot;</span><span class="p">:</span> <span class="s2">&quot;attn1.to_out&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;attn2.to_out.0&quot;</span><span class="p">:</span> <span class="s2">&quot;attn2.to_out&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;ff.net.0.proj&quot;</span><span class="p">:</span> <span class="s2">&quot;act_fn.proj&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;ff.net.2&quot;</span><span class="p">:</span> <span class="s2">&quot;ff&quot;</span><span class="p">,</span>
                            <span class="p">}</span>
                            <span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                            <span class="n">suffix</span> <span class="o">=</span> <span class="n">suffix_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="n">suffix</span><span class="p">)</span>
                            <span class="n">rename</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">blocks_rename_dict</span><span class="p">[</span><span class="n">block_name</span><span class="p">]),</span> <span class="s2">&quot;transformer_blocks&quot;</span><span class="p">,</span> <span class="n">attention_id</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
                        <span class="k">elif</span> <span class="s2">&quot;temporal_transformer_blocks&quot;</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
                            <span class="n">suffix_dict</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s2">&quot;attn1.to_out.0&quot;</span><span class="p">:</span> <span class="s2">&quot;attn1.to_out&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;attn2.to_out.0&quot;</span><span class="p">:</span> <span class="s2">&quot;attn2.to_out&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;ff_in.net.0.proj&quot;</span><span class="p">:</span> <span class="s2">&quot;act_fn_in.proj&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;ff_in.net.2&quot;</span><span class="p">:</span> <span class="s2">&quot;ff_in&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;ff.net.0.proj&quot;</span><span class="p">:</span> <span class="s2">&quot;act_fn_out.proj&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;ff.net.2&quot;</span><span class="p">:</span> <span class="s2">&quot;ff_out&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;norm3&quot;</span><span class="p">:</span> <span class="s2">&quot;norm_out&quot;</span><span class="p">,</span>
                            <span class="p">}</span>
                            <span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                            <span class="n">suffix</span> <span class="o">=</span> <span class="n">suffix_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="n">suffix</span><span class="p">)</span>
                            <span class="n">rename</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">blocks_rename_dict</span><span class="p">[</span><span class="n">block_name</span><span class="p">]),</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
                        <span class="k">elif</span> <span class="s2">&quot;time_mixer&quot;</span> <span class="ow">in</span> <span class="n">block_name</span><span class="p">:</span>
                            <span class="n">rename</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">blocks_rename_dict</span><span class="p">[</span><span class="n">block_name</span><span class="p">]),</span> <span class="s2">&quot;proj&quot;</span><span class="p">,</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">suffix_dict</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s2">&quot;linear_1&quot;</span><span class="p">:</span> <span class="s2">&quot;positional_embedding_proj.0&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;linear_2&quot;</span><span class="p">:</span> <span class="s2">&quot;positional_embedding_proj.2&quot;</span><span class="p">,</span>
                            <span class="p">}</span>
                            <span class="n">suffix</span> <span class="o">=</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">suffix</span> <span class="o">=</span> <span class="n">suffix_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="n">suffix</span><span class="p">)</span>
                            <span class="n">rename</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">blocks_rename_dict</span><span class="p">[</span><span class="n">block_name</span><span class="p">]),</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
                        <span class="n">state_dict_</span><span class="p">[</span><span class="n">rename</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">block_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_block_name</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">block_name</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">block_name</span> <span class="ow">in</span> <span class="n">blocks_rename_dict</span><span class="p">:</span>
                    <span class="n">rename</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">blocks_rename_dict</span><span class="p">[</span><span class="n">block_name</span><span class="p">]),</span> <span class="n">names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
                    <span class="n">state_dict_</span><span class="p">[</span><span class="n">rename</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span>
        <span class="k">return</span> <span class="n">state_dict_</span></div>

    

<div class="viewcode-block" id="SVDUNetStateDictConverter.from_civitai">
<a class="viewcode-back" href="../../../diffsynth.models.html#diffsynth.models.svd_unet.SVDUNetStateDictConverter.from_civitai">[docs]</a>
    <span class="k">def</span> <span class="nf">from_civitai</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_dict</span><span class="p">,</span> <span class="n">add_positional_conv</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">rename_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.0.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.0.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.0.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.3.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.2.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.8.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.8.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.8.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.7.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.1.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.5.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.66.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.69.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.10.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.68.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.71.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.74.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.11.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.73.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.10.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.13.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.12.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.18.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.18.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.18.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.17.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.2.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.15.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.3.0.op.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.20.conv.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.3.0.op.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.20.conv.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.22.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.25.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.24.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.30.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.30.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.30.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.29.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.4.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.27.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.32.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.35.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.34.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.40.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.40.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.40.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.39.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.5.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.37.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.6.0.op.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.42.conv.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.6.0.op.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.42.conv.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.44.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.47.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.46.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.52.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.52.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.52.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.51.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.7.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.49.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.54.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.57.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.56.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.62.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.62.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.62.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.61.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.8.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.59.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.9.0.op.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.64.conv.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.input_blocks.9.0.op.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.64.conv.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.label_emb.0.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;add_time_embedding.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.label_emb.0.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;add_time_embedding.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.label_emb.0.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;add_time_embedding.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.label_emb.0.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;add_time_embedding.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.76.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.79.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.78.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.84.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.84.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.84.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.83.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.81.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.85.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.88.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.middle_block.2.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.87.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.out.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.out.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;conv_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.90.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.93.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.0.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.92.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.95.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.98.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.1.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.97.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.178.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.181.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.180.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.186.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.186.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.186.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.185.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.10.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.183.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.188.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.191.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.190.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.196.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.196.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.196.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.195.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.11.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.193.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.100.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.103.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.102.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.1.conv.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.104.conv.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.2.1.conv.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.104.conv.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.106.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.109.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.108.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.114.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.114.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.114.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.113.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.3.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.111.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.116.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.119.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.118.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.124.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.124.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.124.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.123.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.4.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.121.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.126.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.129.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.128.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.134.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.134.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.134.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.133.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.131.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.2.conv.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.135.conv.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.5.2.conv.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.135.conv.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.137.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.140.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.139.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.145.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.145.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.145.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.144.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.6.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.142.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.147.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.150.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.149.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.155.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.155.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.155.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.154.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.7.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.152.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.157.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.160.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.159.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.165.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.165.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.165.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.164.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.162.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.2.conv.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.166.conv.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.8.2.conv.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.166.conv.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.skip_connection.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.conv_shortcut.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.skip_connection.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.168.conv_shortcut.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.171.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.emb_layers.1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.time_emb_proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.emb_layers.1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.time_emb_proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.in_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.in_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.in_layers.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.conv1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.in_layers.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.conv1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.out_layers.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.out_layers.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.out_layers.3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.conv2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.0.time_stack.out_layers.3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.170.conv2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.norm.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.norm.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.norm.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.norm.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.proj_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.proj_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.proj_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.proj_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.proj_out.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.176.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.proj_out.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.176.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_mixer.mix_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.176.mix_factor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_pos_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.positional_embedding_proj.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_pos_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.positional_embedding_proj.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_pos_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.positional_embedding_proj.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_pos_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.positional_embedding_proj.2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.act_fn_out.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.act_fn_out.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.ff_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.ff_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.ff_in.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.act_fn_in.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.ff_in.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.act_fn_in.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.ff_in.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.ff_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.ff_in.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.ff_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.norm_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.norm_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.norm_in.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.norm_in.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.time_stack.0.norm_in.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.175.norm_in.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn1.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn1.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn1.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn1.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn1.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn1.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn1.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn2.to_k.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn2.to_out.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn2.to_out.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn2.to_out.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn2.to_out.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn2.to_q.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.attn2.to_v.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.ff.net.0.proj.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.act_fn.proj.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.ff.net.0.proj.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.act_fn.proj.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.ff.net.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.ff.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.ff.net.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.ff.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.norm1.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.norm1.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.norm1.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.norm1.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.norm2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.norm2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.norm2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.norm2.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.norm3.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.norm3.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.output_blocks.9.1.transformer_blocks.0.norm3.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;blocks.173.transformer_blocks.0.norm3.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.time_embed.0.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;time_embedding.0.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.time_embed.0.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;time_embedding.0.weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.time_embed.2.bias&quot;</span><span class="p">:</span> <span class="s2">&quot;time_embedding.2.bias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model.diffusion_model.time_embed.2.weight&quot;</span><span class="p">:</span> <span class="s2">&quot;time_embedding.2.weight&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">state_dict_</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">state_dict</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">rename_dict</span><span class="p">:</span>
                <span class="n">param</span> <span class="o">=</span> <span class="n">state_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="k">if</span> <span class="s2">&quot;.proj_in.&quot;</span> <span class="ow">in</span> <span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;.proj_out.&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
                    <span class="n">param</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
                <span class="n">state_dict_</span><span class="p">[</span><span class="n">rename_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]]</span> <span class="o">=</span> <span class="n">param</span>
        <span class="k">if</span> <span class="n">add_positional_conv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">extra_names</span> <span class="o">=</span> <span class="p">[</span>
                <span class="s2">&quot;blocks.7.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.17.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.29.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.39.positional_conv&quot;</span><span class="p">,</span>
                <span class="s2">&quot;blocks.51.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.61.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.83.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.113.positional_conv&quot;</span><span class="p">,</span>
                <span class="s2">&quot;blocks.123.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.133.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.144.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.154.positional_conv&quot;</span><span class="p">,</span>
                <span class="s2">&quot;blocks.164.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.175.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.185.positional_conv&quot;</span><span class="p">,</span> <span class="s2">&quot;blocks.195.positional_conv&quot;</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="n">extra_channels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">320</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">channels</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">extra_names</span><span class="p">,</span> <span class="n">extra_channels</span><span class="p">):</span>
                <span class="n">weight</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">channels</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
                <span class="n">weight</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">channels</span><span class="p">,</span> <span class="n">channels</span><span class="p">)</span>
                <span class="n">bias</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">channels</span><span class="p">,))</span>
                <span class="n">state_dict_</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;.weight&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>
                <span class="n">state_dict_</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;.bias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bias</span>
        <span class="k">return</span> <span class="n">state_dict_</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, ModelScope.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>